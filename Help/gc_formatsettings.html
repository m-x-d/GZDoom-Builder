<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	
	<title>Game Configuration - Map Format Settings</title>
	
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
	<link rel="stylesheet" type="text/css" href="default.css" media="screen" title="Default" />
</head>
<body>
	
	<object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
	<param name="keyword" value="Configurations">
	<param name="keyword" value="Game Configurations">
	</object>
	
	<div id="title"><h1>Game Configuration - Map Format Settings</h1></div>
	
	<div id="contents">
	<p>
		<b class="fat">formatinterface</b> (string)<br />
		Interface class name in Doom Builder that is used to read and write the map data.
		<ul>
			<li>For Doom map format, use "DoomMapSetIO". This is a map format that uses numeric flags.
			<li>For Hexen map format, use "HexenMapSetIO". This is a map format that uses numeric flags.
			<li>For UDMF map format, use "UniversalMapSetIO". This is a map format that uses named flags.
		</ul>
		<b class="fat">maplumpnames</b> (structure)<br />
		This structure describes the lumps that make up the complete map, including scripts and nodes. It must also indicate what Doom Builder is supposed to do with these lumps and/or where the lumps come from. These lumps are normally written by the map format interface class, but some could be generated by the nodebuilder compiler or stored by Doom Builder directly. In this structure, there should be a structure for every map lump. The name of the structure should be the lump name, in uppercase. For the map header (which name differs) you can use the name <b>~MAP</b>. The following settings should be in the lump structure (unless the default value applies):<br />
		<ul>
			<li><b class="fat">required</b> (boolean)<br />
				<b>True</b> to indicate that this lump is a required lump for the map. Default is <b>false</b>.<br />
				<br />
			<li><b class="fat">forbidden</b> (boolean) - <span class="red">GZDB only</span>.<br />
				<b>True</b> to indicate that this lump must not present in the map's namespace. Default is <b>false</b>.<br />
				<br />
			<li><b class="fat">blindcopy</b> (boolean)<br />
				Set this to <b>true</b> when Doom Builder should copy this lump along with the map without using it. Default is <b>false</b>.<br />
				<br />
			<li><b class="fat">nodebuild</b> (boolean)<br />
				When set to <b>true</b>, this indicates that the nodebuilder compiler generates or modifies this lump. Default is <b>false</b>.<br />
				<br />
			<li><b class="fat">allowempty</b> (boolean)<br />
				Set to <b>true</b> to allow the nodebuilder to leave this lump empty. Default is <b>false</b>.<br />
				<br />
			<li><b class="fat">script</b> (string)<br />
				When this is set, it indicates that this lump can be edited with the script editor. The contents of this lump will be loaded in the script editor automatically. Set the value to the .cfg filename (without path) of a Script Configuration to use.<br />
                <br />
                <li><b class="fat">scriptbuild</b> (boolean) - <span class="red">GZDB only</span>.<br />
				When this is set, it indicates that this lump can be edited with the script editor. Currently chosen script configuration will be used to build this lump. The contents of this lump will be loaded in the script editor automatically.<br />
		</ul>
		<strong>Example:</strong><br />
<pre>
maplumpnames
{
	~MAP
	{
		required = true;
		blindcopy = true;
		nodebuild = false;
	}
	
	THINGS
	{
		required = true;
		nodebuild = true;
		allowempty = true;
	}
	
	LINEDEFS
	{
		required = true;
		nodebuild = true;
		allowempty = false;
	}
	
	SIDEDEFS
	{
		required = true;
		nodebuild = true;
		allowempty = false;
	}
	
	VERTEXES
	{
		required = true;
		nodebuild = true;
		allowempty = false;
	}
	
	SEGS
	{
		required = false;
		nodebuild = true;
		allowempty = false;
	}
	
	SSECTORS
	{
		required = false;
		nodebuild = true;
		allowempty = false;
	}
	
	NODES
	{
		required = false;
		nodebuild = true;
		allowempty = false;
	}
	
	SECTORS
	{
		required = true;
		nodebuild = true;
		allowempty = false;
	}
	
	REJECT
	{
		required = false;
		nodebuild = true;
		allowempty = false;
	}
	
	BLOCKMAP
	{
		required = false;
		nodebuild = true;
		allowempty = false;
	}
	
	SCRIPTS
	{
		required = false;
		nodebuild = false;
		script = "ZDoom_ACS.cfg";
	}
}
</pre>
		<br />
        <b class="fat">universalfields</b> (structure) - <span class="red">UDMF only</span>.<br />
        Provides additional UDMF field definitions to show in the <strong>Custom</strong> tab of Edit windows.<br />
        <span class="red">Warning:</span> only add fields  that Doom Builder does not edit with its own user-interface!<br />
        <span class="red">Warning:</span> the "default" field must match the UDMF specifications!<br /><br />
        <strong>Field data types:</strong><br />
        <ul style="list-style-type:none">
          <li>0 = Integer</li>
          <li>1 = Float</li>
          <li>2 = String</li>
          <li>3 = Bool</li>
          <li>4 = Linedef type (integer)</li>
          <li>5 = Sector effect (integer)</li>
          <li>6 = Texture (string)</li>
          <li>7 = Flat (string)</li>
          <li>8 = Angle in degrees (integer)</li>
          <li>9 = Angle in radians (float)</li>
          <li>10 = XXRRGGBB color (integer)</li>
          <li>11 = Enum option (integer)</li>
          <li>12 = Enum bits (integer)</li>
          <li>13 = Sector tag (integer)</li>
          <li>14 = Thing tag (integer)</li>
          <li>15 = Linedef tag (integer)</li>
          <li>16 = Enum option (string)</li>
          <li>17 = Angle in degrees (float)</li>
          <li>22 = Byte angle (integer) - <span class="red">GZDB only</span></li>
      </ul>
        <strong>Example:</strong><br />
<pre>
universalfields
{
	linedef
	{
		comment
		{
			type = 2;
			default = "";
		}
	}
	
	sidedef
	{
		comment
		{
			type = 2;
			default = "";
		}
	}
	
	thing
	{
		comment
		{
			type = 2;
			default = "";
		}
    
		skill6
		{
			type = 3;
			default = false;
		}

    
		class6
		{
			type = 3;
			default = false;
		}

	}
	
	sector
	{
		comment
		{
			type = 2;
			default = "";
		}
	}
}
</pre>
	</p>
	</div>
</body>
